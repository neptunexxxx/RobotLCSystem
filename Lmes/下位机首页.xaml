<mah:MetroWindow x:Class="Lmes.下位机首页"
                 xmlns:metro="http://metro.mahapps.com/winfx/xaml/controls" 
                 xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                 xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks" xmlns:notifications="clr-namespace:Notifications.Wpf.Core.Controls;assembly=Notifications.Wpf.Core"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Lmes"
        mc:Ignorable="d"
        Title="下位机首页" Height="900" Width="1300" WindowState="Maximized">
    <d:MetroWindow.DataContext>
        <local:下位机首页/>
    </d:MetroWindow.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="80"/>
        </Grid.RowDefinitions>

        <!-- 顶部状态栏 -->
        <Border Grid.Row="0"  Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Logo区域 -->
                <Border Grid.Column="0" Background="#34495E" CornerRadius="5" Margin="5">
                    <TextBlock Text="LOGO" HorizontalAlignment="Center" VerticalAlignment="Center" 
                               Foreground="White" FontSize="16" FontWeight="Bold"/>
                </Border>

                <!-- 产品名称 -->
                <TextBlock Grid.Column="1" Text="{Binding 产品名称}" VerticalAlignment="Center" 
                           Foreground="White" FontSize="18" FontWeight="Bold" Margin="10,0"/>

                <!-- 工站名称 -->
                <TextBlock Grid.Column="2" Text="{Binding 工站名称}" VerticalAlignment="Center" 
                           Foreground="White" FontSize="16" Margin="10,0"/>

                <!-- 当前用户 -->
                <StackPanel   Grid.Column="3" Orientation="Horizontal" Margin="0,0,0,0">
                    <Label Content="当前用户:"  FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding 当前用户}" VerticalAlignment="Center" 
                           Foreground="White" FontSize="20" Margin="10,0"/>
                </StackPanel>

                <!-- 状态指示灯 -->
                <StackPanel Grid.Column="4" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Height="50">
                    <StackPanel Orientation="Horizontal" Margin="10,0">
                        <Ellipse Width="20" Height="20" Fill="{Binding 安全门状态颜色}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                        <TextBlock Text="安全门" Foreground="Black" FontSize="20" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="10,0">
                        <Ellipse Width="20" Height="20" Fill="{Binding 气阀状态颜色}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                        <TextBlock Text="气阀" Foreground="Black" FontSize="20" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="10,0">
                        <Ellipse Width="20" Height="20" Fill="{Binding PLC状态颜色}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                        <TextBlock Text="PLC" Foreground="Black" FontSize="20" VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="10,0">
                        <Ellipse Width="20" Height="20" Fill="{Binding 紧急停止状态颜色}" Margin="0,0,5,0" VerticalAlignment="Center"/>
                        <TextBlock Text="紧急停止" Foreground="Black" FontSize="20" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 主体内容区 -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="300"/>
            </Grid.ColumnDefinitions>

            <!-- 左侧信息面板 -->
            <Border Grid.Column="0" Background="#ECF0F1" CornerRadius="8" Padding="5" Margin="0,0,10,0">
                <StackPanel>
                    <!-- 工位信息 -->
                    <TextBlock Text="工位信息" FontSize="25" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,10"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="产品条码:" FontSize="20" FontWeight="Bold" Foreground="#34495E" Margin="0,10,0,0"/>
                        <TextBox Text="{Binding 产品条码}" IsReadOnly="True" Height="25" Margin="5,0,0,0" Width="240"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="托盘条码:" FontSize="20" FontWeight="Bold" Foreground="#34495E" Margin="0,10,0,0"/>
                        <TextBox Text="{Binding 托盘条码}" IsReadOnly="True" Height="25" Margin="5,0,0,0" Width="240"/>
                    </StackPanel>
                    <!-- NG信息 -->
                    
                    <TextBlock Text="NG信息" FontSize="25" FontWeight="Bold" Foreground="#E74C3C" Margin="0,10,0,10"/>

                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="产品条码:" FontSize="20" FontWeight="Bold" Foreground="#34495E" Margin="0,10,0,0"/>
                        <TextBox Text="{Binding NG产品条码}" IsReadOnly="True" Height="25" Margin="5,0,0,0" Width="240"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="托盘条码:" FontSize="20" FontWeight="Bold" Foreground="#34495E" Margin="0,10,0,0"/>
                        <TextBox Text="{Binding NG托盘条码}" IsReadOnly="True" Height="25" Margin="5,0,0,0" Width="240"/>
                    </StackPanel>
                    <!-- 生产数据与设备状态 -->
                    <TextBlock Text="生产数据与设备状态" FontSize="25" FontWeight="Bold" Foreground="#2C3E50" Margin="0,10,0,10"/>

                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="25*"/>
                            <ColumnDefinition Width="30*"/>
                            <ColumnDefinition Width="auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Content="当前节拍:" FontSize="20" FontWeight="Bold" Grid.ColumnSpan="2"/>
                        <TextBlock Grid.Column="1" Text="{Binding 当前节拍, StringFormat='当前节拍: {0}s'}" FontSize="14" VerticalAlignment="Center"/>
                        <Button Grid.Column="2" Content="产量清零" Height="30" Command="{Binding 产量清零命令}" Width="90"/>
                    </Grid>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Label Content="合格数量:" FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding 合格数量, StringFormat='合格数量: {0}'}" FontSize="12" Margin="0,5" Width="80" Height="30"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Label Content="不合格数量:" FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding 不合格数量, StringFormat='不合格数量: {0}'}" FontSize="12" Margin="0,5" Width="80" Height="30"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Label Content="合格率:" FontSize="20" FontWeight="Bold" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding 合格率, StringFormat='合格率: {0}'}" FontSize="12" Margin="0,5" Width="80" Height="30"/>
                        <Label Content="总数量:" FontSize="20" FontWeight="Bold" VerticalAlignment="Center" Margin="18 0 0 0"/>
                        <TextBlock Text="{Binding 总数量, StringFormat='总数量: {0}'}" FontSize="12" Margin="0,5" Width="80" Height="30"/>
                    </StackPanel>
                    <!-- 设备状态指示 -->
                    <Grid Margin="0 10 0 0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                            <Ellipse Width="20" Height="20" Fill="{Binding 自动状态颜色}" Margin="0,0,5,0"/>
                            <TextBlock Text="自动" FontSize="20" FontWeight="Bold" Margin="10 0 0 0" VerticalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
                            <Ellipse Width="20" Height="20" Fill="{Binding 手动状态颜色}" Margin="0,0,5,0"/>
                            <TextBlock Text="手动" FontSize="20" FontWeight="Bold" Margin="10 0 0 0" VerticalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal">
                            <Ellipse Width="20" Height="20" Fill="{Binding 运行状态颜色}" Margin="0,0,5,0"/>
                            <TextBlock Text="运行" FontSize="20" FontWeight="Bold" Margin="10 10 0 0" VerticalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
                            <Ellipse Width="20" Height="20" Fill="{Binding 初始化完成状态颜色}" Margin="0,0,5,0"/>
                            <TextBlock Text="初始化完成" FontSize="20" FontWeight="Bold" Margin="10 10 0 0" VerticalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal">
                            <Ellipse Width="20" Height="20" Fill="{Binding 报警状态颜色}" Margin="0,0,5,0"/>
                            <TextBlock Text="报警" FontSize="20" FontWeight="Bold" Margin="10 10 0 0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Grid>

                    <!-- 预留按钮 -->
                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="35"/>
                            <RowDefinition Height="35"/>
                        </Grid.RowDefinitions>

                        <Button Grid.Row="0" Grid.Column="0" Content="按钮1" Margin="2" Command="{Binding 按钮1命令}"/>
                        <Button Grid.Row="0" Grid.Column="1" Content="按钮2" Margin="2" Command="{Binding 按钮2命令}"/>
                        <Button Grid.Row="0" Grid.Column="2" Content="按钮3" Margin="2" Command="{Binding 按钮3命令}"/>
                        <Button Grid.Row="1" Grid.Column="0" Content="按钮4" Margin="2" Command="{Binding 按钮4命令}"/>
                        <Button Grid.Row="1" Grid.Column="1" Content="按钮5" Margin="2" Command="{Binding 按钮5命令}"/>
                        <Button Grid.Row="1" Grid.Column="2" Content="按钮6" Margin="2" Command="{Binding 按钮6命令}"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- 中间主体区域 -->
            <Grid Grid.Column="1" Margin="5,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="80"/>
                </Grid.RowDefinitions>

                <!-- 三维渲染布局图 -->
                <Border Grid.Row="0" Background="#34495E" CornerRadius="8" Margin="0,0,0,5">
                    <Grid>
                        <TextBlock Text="项目布局图（三维渲染版）" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                   Foreground="White" FontSize="24" FontWeight="Bold"/>
                        <!-- 这里可以放置实际的3D渲染控件 -->
                    </Grid>
                </Border>

                <!-- 状态显示和产品图片 -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="150"/>
                    </Grid.ColumnDefinitions>

                    <!-- 状态显示 -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Border Background="{Binding OK状态颜色}" CornerRadius="25" Width="50" Height="50" Margin="10">
                            <TextBlock Text="OK" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Foreground="Black" FontWeight="Bold" FontSize="14"/>
                        </Border>
                        <Border Background="{Binding NG状态颜色}" CornerRadius="25" Width="50" Height="50" Margin="10">
                            <TextBlock Text="NG" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Foreground="Black" FontWeight="Bold" FontSize="14"/>
                        </Border>
                        <Border Background="{Binding MESOK状态颜色}" CornerRadius="25" Width="60" Height="50" Margin="10">
                            <TextBlock Text="MES&#10;OK" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Foreground="Black" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                        <Border Background="{Binding MESNG状态颜色}" CornerRadius="25" Width="60" Height="50" Margin="10">
                            <TextBlock Text="MES&#10;NG" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                       Foreground="Black" FontWeight="Bold" FontSize="12" TextAlignment="Center"/>
                        </Border>
                    </StackPanel>

                    <!-- 产品图片 -->
                    <Border Grid.Column="1" Background="#BDC3C7" CornerRadius="5" Margin="5">
                        <TextBlock Text="产品图片" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                   Foreground="#7F8C8D" FontSize="12"/>
                    </Border>
                </Grid>
            </Grid>

            <!-- 右侧控制面板 -->
            <!-- 右侧控制面板 -->
            <Border Grid.Column="2" Background="#ECF0F1" CornerRadius="8" Padding="15" Margin="10,0,0,0">
                <StackPanel>
                    <!-- 手动模式开关 - 使用DockPanel -->
                    <DockPanel Margin="0,0,0,10">
                        <ToggleButton DockPanel.Dock="Left"  Width="60"  
                          IsChecked="{Binding 手动模式开关}" VerticalAlignment="Center" Margin="20 0 0 0"/>
                        <Label DockPanel.Dock="Right" FontSize="14" FontWeight="Bold" Content="手动" VerticalAlignment="Center" Margin="10 0 0 0"/>
                    </DockPanel>

                    <!-- 控制按钮 -->
                    <Button Content="启动" Height="50" FontSize="16" FontWeight="Bold" 
                Background="#27AE60" Foreground="White" Margin="0,5" 
                Command="{Binding 启动命令}"/>
                    <Button Content="暂停" Height="50" FontSize="16" FontWeight="Bold" 
                Background="#F39C12" Foreground="White" Margin="0,5" 
                Command="{Binding 暂停命令}"/>
                    <Button Content="复位" Height="50" FontSize="16" FontWeight="Bold" 
                Background="#3498DB" Foreground="White" Margin="0,5" 
                Command="{Binding 复位命令}"/>
                    <Button Content="初始化" Height="50" FontSize="16" FontWeight="Bold" 
                Background="#9B59B6" Foreground="White" Margin="0,5" 
                Command="{Binding 初始化命令}"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- 底部导航栏 -->
        <Border Grid.Row="2" Background="#34495E" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding 菜单命令}">
                    <StackPanel>
                        <TextBlock Text="📋" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="菜单" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="1" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding 主页命令}">
                    <StackPanel>
                        <TextBlock Text="🏠" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="主页" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="2" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding 手动命令}">
                    <StackPanel>
                        <TextBlock Text="🔧" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="手动" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="3" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding IO监控命令}">
                    <StackPanel>
                        <TextBlock Text="📊" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="IO监控" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="4" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding 报警记录命令}">
                    <StackPanel>
                        <TextBlock Text="⚠️" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="报警记录" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="5" Style="{x:Null}" Background="Transparent" BorderThickness="0" 
                        Command="{Binding 统计命令}">
                    <StackPanel>
                        <TextBlock Text="📈" FontSize="24" HorizontalAlignment="Center" Foreground="White"/>
                        <TextBlock Text="统计" FontSize="12" HorizontalAlignment="Center" Foreground="White"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>
    </Grid>
</mah:MetroWindow>
